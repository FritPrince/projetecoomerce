import{j as e,H as p,L as j,f as o}from"./app-4QF1noMb.js";import{C as f}from"./ClientLayout-BtUohOIb.js";import{C as r,a as i,b as n,d as c,c as N}from"./card-DR06hP1e.js";import{B as v}from"./button-DBIL1Z8B.js";import{B as g}from"./badge-BJBZenvE.js";import{A as y}from"./arrow-left-C7Q7q3fr.js";import{P as m}from"./package-B9d4UWXJ.js";import{X as u}from"./index-ConwksJU.js";import{M as b,P as C}from"./phone-CZH84aZA.js";import{E as w}from"./euro-Dgiw96Sv.js";import{C as d}from"./circle-check-big-PP2pjY4z.js";import{T as _}from"./truck-BHTh81ku.js";import{C as A}from"./clock-BivZODi6.js";import{C as L}from"./circle-alert-CMjAt70r.js";/* empty css            */import"./input-DvwVAa8V.js";import"./utils-BULDOeo9.js";import"./createLucideIcon-6dVE3Vd0.js";import"./route-DlHd0qRW.js";import"./dialog-CAfAkSWt.js";import"./heart-DtmTZwjw.js";import"./shopping-cart-Bl3zxqU1.js";import"./user-sIJr31Zo.js";import"./index-pY3kX1L4.js";import"./index-DoGIkioa.js";const x=s=>{const a={en_attente:{variant:"secondary",label:"En attente",icon:A,color:"text-yellow-600"},confirmee:{variant:"default",label:"Confirmée",icon:d,color:"text-blue-600"},expediee:{variant:"default",label:"Expédiée",icon:_,color:"text-purple-600"},livree:{variant:"default",label:"Livrée",icon:d,color:"text-green-600"},annulee:{variant:"destructive",label:"Annulée",icon:u,color:"text-red-600"}}[s]||{variant:"secondary",label:s,icon:L};return e.jsxs(g,{variant:a.variant,className:"flex items-center gap-1",children:[e.jsx(a.icon,{className:"h-3 w-3"}),a.label]})},S=s=>["en_attente","confirmee"].includes(s);function se({commande:s}){const l=()=>{confirm("Êtes-vous sûr de vouloir annuler cette commande ?")&&o.post(`/mes-commandes/${s.id}/cancel`,{},{onSuccess:()=>{o.visit("/mes-commandes")}})},a=t=>new Date(t).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),h=t=>({en_attente:"Votre commande est en cours de traitement. Nous vous confirmerons la commande sous peu.",confirmee:"Votre commande a été confirmée et est en préparation.",expediee:"Votre commande a été expédiée et est en cours de livraison.",livree:"Votre commande a été livrée avec succès.",annulee:"Cette commande a été annulée."})[t]||"Statut inconnu";return e.jsxs(f,{children:[e.jsx(p,{title:`Commande ${s.numero_commande}`}),e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs(j,{href:"/mes-commandes",className:"flex items-center text-gray-600 hover:text-primary mb-4",children:[e.jsx(y,{className:"h-5 w-5 mr-2"}),"Retour aux commandes"]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Commande ",s.numero_commande]}),e.jsxs("p",{className:"mt-2 text-gray-600",children:["Passée le ",a(s.date_commande)]})]}),e.jsxs("div",{className:"text-right",children:[x(s.statut),e.jsxs("div",{className:"mt-2 text-lg font-semibold text-primary",children:[Number(s.total).toFixed(2)," €"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(r,{children:[e.jsx(i,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(m,{className:"h-5 w-5"}),"Statut de la commande"]})}),e.jsx(c,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[x(s.statut),e.jsx("span",{className:"text-sm text-gray-600",children:h(s.statut)})]}),S(s.statut)&&e.jsx("div",{className:"pt-4 border-t",children:e.jsxs(v,{variant:"outline",onClick:l,className:"text-red-600 hover:text-red-700 hover:border-red-500",children:[e.jsx(u,{className:"h-4 w-4 mr-2"}),"Annuler la commande"]})})]})})]}),e.jsxs(r,{children:[e.jsxs(i,{children:[e.jsx(n,{children:"Articles commandés"}),e.jsxs(N,{children:[s.ligne_commandes.length," article(s) dans cette commande"]})]}),e.jsx(c,{children:e.jsx("div",{className:"space-y-4",children:s.ligne_commandes.map(t=>e.jsxs("div",{className:"flex items-center space-x-4 p-4 border rounded-lg",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center",children:t.produit.image_url?e.jsx("img",{src:t.produit.image_url,alt:t.produit.nom,className:"w-full h-full object-cover rounded-lg"}):e.jsx(m,{className:"h-8 w-8 text-gray-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:t.produit.nom}),e.jsxs("p",{className:"text-sm text-gray-500",children:[t.produit.sous_categorie.categorie.nom," • ",t.produit.sous_categorie.nom]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Quantité: ",t.quantite]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:[Number(t.prix_unitaire).toFixed(2)," € × ",t.quantite]}),e.jsxs("div",{className:"font-medium text-gray-900",children:[Number(t.sous_total).toFixed(2)," €"]})]})]},t.id))})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(r,{children:[e.jsx(i,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(b,{className:"h-5 w-5"}),"Adresse de livraison"]})}),e.jsx(c,{children:e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("p",{children:"Adresse par défaut"}),e.jsx("p",{className:"mt-2 text-gray-500",children:"Les détails d'adresse seront affichés ici"})]})})]}),e.jsxs(r,{children:[e.jsx(i,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(C,{className:"h-5 w-5"}),"Contact"]})}),e.jsx(c,{children:e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("p",{children:"Pour toute question concernant cette commande,"}),e.jsx("p",{className:"mt-2",children:"contactez notre service client."})]})})]}),e.jsxs(r,{children:[e.jsx(i,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-5 w-5"}),"Résumé de la commande"]})}),e.jsx(c,{children:e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Sous-total"}),e.jsxs("span",{children:[Number(s.total).toFixed(2)," €"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Livraison"}),e.jsx("span",{children:"Gratuite"})]}),e.jsxs("div",{className:"flex justify-between font-medium text-lg pt-2 border-t",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:[Number(s.total).toFixed(2)," €"]})]})]})})]})]})]})]})})]})}export{se as default};
