import{j as e,H as u,L as c,f as h}from"./app-4QF1noMb.js";import{C as p}from"./ClientLayout-BtUohOIb.js";import{C as m,d as o,a as j,b as f,c as g}from"./card-DR06hP1e.js";import{B as i}from"./button-DBIL1Z8B.js";import{B as v}from"./badge-BJBZenvE.js";import{P as n}from"./package-B9d4UWXJ.js";import{C as N}from"./calendar-BxD-zirj.js";import{E as C}from"./eye-uuHe9wyF.js";import{X as x}from"./index-ConwksJU.js";import{C as d}from"./circle-check-big-PP2pjY4z.js";import{T as y}from"./truck-BHTh81ku.js";import{C as b}from"./clock-BivZODi6.js";import{C as w}from"./circle-alert-CMjAt70r.js";/* empty css            */import"./input-DvwVAa8V.js";import"./utils-BULDOeo9.js";import"./createLucideIcon-6dVE3Vd0.js";import"./route-DlHd0qRW.js";import"./dialog-CAfAkSWt.js";import"./arrow-left-C7Q7q3fr.js";import"./heart-DtmTZwjw.js";import"./shopping-cart-Bl3zxqU1.js";import"./user-sIJr31Zo.js";import"./index-pY3kX1L4.js";import"./index-DoGIkioa.js";const _=a=>{const r={en_attente:{variant:"secondary",label:"En attente",icon:b},confirmee:{variant:"default",label:"Confirmée",icon:d},expediee:{variant:"default",label:"Expédiée",icon:y},livree:{variant:"default",label:"Livrée",icon:d},annulee:{variant:"destructive",label:"Annulée",icon:x}}[a]||{variant:"secondary",label:a,icon:w};return e.jsxs(v,{variant:r.variant,className:"flex items-center gap-1",children:[e.jsx(r.icon,{className:"h-3 w-3"}),r.label]})},k=a=>["en_attente","confirmee"].includes(a);function Y({commandes:a}){const l=s=>{confirm("Êtes-vous sûr de vouloir annuler cette commande ?")&&h.post(`/mes-commandes/${s}/cancel`,{},{onSuccess:()=>{}})},r=s=>new Date(s).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsxs(p,{children:[e.jsx(u,{title:"Mes Commandes"}),e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mes Commandes"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Consultez l'historique de vos commandes et suivez leur statut"})]}),a.data.length===0?e.jsx(m,{children:e.jsxs(o,{className:"text-center py-12",children:[e.jsx(n,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Aucune commande"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Vous n'avez encore passé aucune commande."}),e.jsx(i,{asChild:!0,children:e.jsx(c,{href:"/",children:"Découvrir nos produits"})})]})}):e.jsx("div",{className:"space-y-6",children:a.data.map(s=>e.jsxs(m,{children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(f,{className:"flex items-center gap-2",children:[e.jsx(n,{className:"h-5 w-5"}),"Commande ",s.numero_commande]}),e.jsxs(g,{children:["Passée le ",r(s.date_commande)]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[_(s.statut),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-semibold text-primary",children:[Number(s.total).toFixed(2)," €"]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[s.ligne_commandes.length," article(s)"]})]})]})]})}),e.jsx(o,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.ligne_commandes.map(t=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:t.produit.image_url?e.jsx("img",{src:t.produit.image_url,alt:t.produit.nom,className:"w-16 h-16 object-cover rounded"}):e.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gray-200 rounded-lg flex items-center justify-center",children:e.jsx(n,{className:"h-8 w-8 text-gray-400"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t.produit.nom}),e.jsxs("p",{className:"text-xs text-gray-500",children:[t.produit.sous_categorie.categorie.nom," • ",t.produit.sous_categorie.nom]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[t.quantite," × ",Number(t.prix_unitaire).toFixed(2)," €"]})]}),e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[Number(t.sous_total).toFixed(2)," €"]})]},t.id))}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx(N,{className:"h-4 w-4"}),e.jsxs("span",{children:["Commande passée le ",r(s.created_at)]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(c,{href:`/mes-commandes/${s.id}`,children:[e.jsx(C,{className:"h-4 w-4 mr-2"}),"Voir les détails"]})}),k(s.statut)&&e.jsxs(i,{variant:"outline",size:"sm",onClick:()=>l(s.id),className:"text-red-600 hover:text-red-700 hover:border-red-500",children:[e.jsx(x,{className:"h-4 w-4 mr-2"}),"Annuler"]})]})]})]})})]},s.id))})]})})]})}export{Y as default};
