import{r as x,u as b,j as e,H as v,L as l}from"./app-4QF1noMb.js";import{r as d}from"./route-DlHd0qRW.js";import{H as h}from"./heart-DtmTZwjw.js";import{S as j}from"./shopping-cart-Bl3zxqU1.js";import{A as w}from"./arrow-left-C7Q7q3fr.js";import{S as g}from"./star-CIz7PvB5.js";import{C as A}from"./check-gs7IydId.js";/* empty css            */import"./createLucideIcon-6dVE3Vd0.js";function H({produit:s,avis:i}){const[n,p]=x.useState(1),[c,f]=x.useState(0),{post:u,processing:m}=b({produit_id:s.id,quantite:n}),N=()=>{u(d("panier.ajouter"),{onSuccess:()=>{},onError:a=>{console.error("Erreur lors de l'ajout au panier:",a)}})},y=()=>{console.log("Ajouter aux favoris:",s.id)},t=s.image_url?[s.image_url]:[];return e.jsxs(e.Fragment,{children:[e.jsx(v,{title:s.nom}),e.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsx(l,{href:"/",className:"text-2xl font-bold text-primary",children:"ShopStyle"}),e.jsxs("nav",{className:"hidden md:flex space-x-8",children:[e.jsx(l,{href:"/",className:"text-gray-700 hover:text-primary font-medium",children:"Accueil"}),e.jsx(l,{href:"/commandes",className:"text-gray-700 hover:text-primary font-medium",children:"Mes Commandes"}),e.jsx(l,{href:"/favoris",className:"text-gray-700 hover:text-primary font-medium",children:"Mes Favoris"}),e.jsx(l,{href:d("profil.index"),className:"text-gray-700 hover:text-primary font-medium",children:"Mon Profil"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(l,{href:"/favoris",className:"p-2 text-gray-600 hover:text-primary",children:e.jsx(h,{className:"h-5 w-5"})}),e.jsx(l,{href:"/commandes",className:"p-2 text-gray-600 hover:text-primary",children:e.jsx(j,{className:"h-5 w-5"})})]})]})})}),e.jsx("main",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-6",children:e.jsxs(l,{href:"/",className:"inline-flex items-center text-gray-600 hover:text-primary",children:[e.jsx(w,{className:"h-4 w-4 mr-2"}),"Retour à l'accueil"]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 p-8",children:[e.jsxs("div",{children:[e.jsx("div",{className:"aspect-square overflow-hidden rounded-lg mb-4",children:t[c]?e.jsx("img",{src:`/storage/${t[c]}`,alt:s.nom,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-400",children:"Image non disponible"})})}),t.length>1&&e.jsx("div",{className:"grid grid-cols-4 gap-2",children:t.map((a,r)=>e.jsx("button",{onClick:()=>f(r),className:`aspect-square overflow-hidden rounded border-2 ${c===r?"border-primary":"border-gray-200"}`,children:e.jsx("img",{src:`/storage/${a}`,alt:`${s.nom} ${r+1}`,className:"w-full h-full object-cover"})},r))})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:s.nom}),e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((a,r)=>e.jsx(g,{className:`h-5 w-5 ${r<Math.floor(s.note_moyenne)?"fill-current":"fill-none"}`},r))}),e.jsxs("span",{className:"text-gray-600 ml-2",children:[s.note_moyenne.toFixed(1)," (",s.nombre_avis," avis)"]})]}),e.jsxs("div",{className:"text-4xl font-bold text-primary mb-6",children:[s.prix," €"]}),e.jsx("div",{className:"mb-6",children:e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${s.stock>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[e.jsx(A,{className:"h-4 w-4 mr-1"}),s.stock>0?"En stock":"Rupture de stock"]})}),e.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:s.description}),s.caracteristiques&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Caractéristiques :"}),e.jsx("p",{className:"text-gray-600",children:s.caracteristiques})]}),e.jsxs("div",{className:"space-y-4",children:[s.stock>0&&e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("label",{className:"font-medium",children:"Quantité :"}),e.jsx("select",{value:n,onChange:a=>p(Number(a.target.value)),className:"border border-gray-300 rounded-lg px-3 py-2",children:[...Array(Math.min(s.stock,10))].map((a,r)=>e.jsx("option",{value:r+1,children:r+1},r+1))}),e.jsxs("span",{className:"text-sm text-gray-500",children:[s.stock," disponibles"]})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("button",{onClick:N,disabled:s.stock===0||m,className:"flex-1 bg-primary text-white py-3 px-6 rounded-lg hover:bg-primary/90 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center justify-center",children:[e.jsx(j,{className:"h-5 w-5 mr-2"}),m?"Ajout en cours...":"Ajouter au panier"]}),e.jsx("button",{onClick:y,className:"p-3 border border-gray-300 rounded-lg hover:border-primary hover:text-primary transition-colors",children:e.jsx(h,{className:"h-5 w-5"})})]})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm mt-8 p-8",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-6",children:["Avis clients (",s.nombre_avis,")"]}),i.length>0?e.jsx("div",{className:"space-y-6",children:i.map(a=>e.jsxs("div",{className:"border-b border-gray-200 pb-6 last:border-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-semibold",children:a.user_name}),e.jsx("span",{className:"text-sm text-gray-500",children:new Date(a.created_at).toLocaleDateString()})]}),e.jsx("div",{className:"flex text-yellow-400 mb-2",children:[...Array(5)].map((r,o)=>e.jsx(g,{className:`h-4 w-4 ${o<a.note?"fill-current":"fill-none"}`},o))}),e.jsx("p",{className:"text-gray-700",children:a.commentaire})]},a.id))}):e.jsx("p",{className:"text-gray-500 text-center py-8",children:"Aucun avis pour ce produit pour le moment."})]})]})}),e.jsx("footer",{className:"bg-gray-900 text-white py-12"})]})}export{H as default};
