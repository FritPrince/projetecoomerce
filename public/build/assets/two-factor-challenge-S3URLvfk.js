import{r as n,j as e,H as y,F as g}from"./app-4QF1noMb.js";import{I as l}from"./input-error-D3zb9Sav.js";import{B as j}from"./button-DBIL1Z8B.js";import{I as v}from"./input-DvwVAa8V.js";import{I,K as T,O as d,a as b,b as C}from"./use-two-factor-auth-DUkuxUzC.js";import{A as F}from"./auth-layout-vjib60Td.js";import{q as N}from"./index-GDUkZo-u.js";/* empty css            */import"./utils-BULDOeo9.js";import"./minus-BFMhAZXE.js";import"./createLucideIcon-6dVE3Vd0.js";import"./route-DlHd0qRW.js";import"./truck-BHTh81ku.js";import"./shield-C8yZlrx3.js";import"./shopping-bag-VL5m4-iJ.js";const o=t=>({url:o.url(t),method:"post"});o.definition={methods:["post"],url:"/two-factor-challenge"};o.url=t=>o.definition.url+N(t);o.post=t=>({url:o.url(t),method:"post"});const m=t=>({action:o.url(t),method:"post"});m.post=t=>({action:o.url(t),method:"post"});o.form=m;Object.assign(o,o);function K(){const[t,p]=n.useState(!1),[h,a]=n.useState(""),s=n.useMemo(()=>t?{title:"Recovery Code",description:"Please confirm access to your account by entering one of your emergency recovery codes.",toggleText:"login using an authentication code"}:{title:"Authentication Code",description:"Enter the authentication code provided by your authenticator application.",toggleText:"login using a recovery code"},[t]),x=r=>{p(!t),r(),a("")};return e.jsxs(F,{title:s.title,description:s.description,children:[e.jsx(y,{title:"Two-Factor Authentication"}),e.jsx("div",{className:"space-y-6",children:e.jsx(g,{...o.form(),className:"space-y-4",resetOnError:!0,resetOnSuccess:!t,children:({errors:r,processing:i,clearErrors:f})=>e.jsxs(e.Fragment,{children:[t?e.jsxs(e.Fragment,{children:[e.jsx(v,{name:"recovery_code",type:"text",placeholder:"Enter recovery code",autoFocus:t,required:!0}),e.jsx(l,{message:r.recovery_code})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3 text-center",children:[e.jsx("div",{className:"flex w-full items-center justify-center",children:e.jsx(I,{name:"code",maxLength:d,value:h,onChange:c=>a(c),disabled:i,pattern:T,children:e.jsx(b,{children:Array.from({length:d},(c,u)=>e.jsx(C,{index:u},u))})})}),e.jsx(l,{message:r.code})]}),e.jsx(j,{type:"submit",className:"w-full",disabled:i,children:"Continue"}),e.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[e.jsx("span",{children:"or you can "}),e.jsx("button",{type:"button",className:"cursor-pointer text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current! dark:decoration-neutral-500",onClick:()=>x(f),children:s.toggleText})]})]})})})]})}export{K as default};
