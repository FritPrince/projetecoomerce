import{r as c,u as x,j as s,H as h}from"./app-4QF1noMb.js";import{I as t}from"./input-error-D3zb9Sav.js";import{A as j}from"./app-layout-DlOP7P_7.js";import{S as g,H as _}from"./layout-Bintu-NP.js";import{B as v}from"./button-DBIL1Z8B.js";import{I as p}from"./input-DvwVAa8V.js";import{L as n}from"./label-GMjfTP0s.js";import{r as m}from"./route-DlHd0qRW.js";import{z as y}from"./transition-CpMUsMUq.js";/* empty css            */import"./utils-BULDOeo9.js";import"./index-DoGIkioa.js";import"./index-ConwksJU.js";import"./createLucideIcon-6dVE3Vd0.js";import"./index-pY3kX1L4.js";import"./index-BBqGkt9K.js";import"./index-B2VJWed_.js";import"./index-CHydNK0m.js";import"./index-GDUkZo-u.js";import"./log-out-DHJl1Adr.js";import"./package-B9d4UWXJ.js";import"./shopping-cart-Bl3zxqU1.js";import"./credit-card-yvDc5vsp.js";import"./bell-DCAOnOCR.js";import"./chevron-right-BcqJVpEb.js";const N=[{title:"Password settings",href:m("password.edit")}];function W(){const i=c.useRef(null),d=c.useRef(null),{data:e,setData:r,put:l,errors:a,processing:u,recentlySuccessful:w}=x({current_password:"",password:"",password_confirmation:""}),f=o=>{o.preventDefault(),l(m("password.update"),{preserveScroll:!0,onSuccess:()=>{r({current_password:"",password:"",password_confirmation:""})},onError:()=>{a.password&&(i.current?.focus(),r("password",""),r("password_confirmation","")),a.current_password&&(d.current?.focus(),r("current_password",""))}})};return s.jsxs(j,{breadcrumbs:N,children:[s.jsx(h,{title:"Password settings"}),s.jsx(g,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(_,{title:"Update password",description:"Ensure your account is using a long, random password to stay secure"}),s.jsxs("form",{onSubmit:f,className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(n,{htmlFor:"current_password",children:"Current password"}),s.jsx(p,{id:"current_password",ref:d,value:e.current_password,onChange:o=>r("current_password",o.target.value),type:"password",className:"mt-1 block w-full",autoComplete:"current-password",placeholder:"Current password"}),s.jsx(t,{message:a.current_password})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(n,{htmlFor:"password",children:"New password"}),s.jsx(p,{id:"password",ref:i,value:e.password,onChange:o=>r("password",o.target.value),type:"password",className:"mt-1 block w-full",autoComplete:"new-password",placeholder:"New password"}),s.jsx(t,{message:a.password})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(n,{htmlFor:"password_confirmation",children:"Confirm password"}),s.jsx(p,{id:"password_confirmation",value:e.password_confirmation,onChange:o=>r("password_confirmation",o.target.value),type:"password",className:"mt-1 block w-full",autoComplete:"new-password",placeholder:"Confirm password"}),s.jsx(t,{message:a.password_confirmation})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(v,{disabled:u,"data-test":"update-password-button",children:"Save password"}),s.jsx(y,{show:w,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:s.jsx("p",{className:"text-sm text-neutral-600",children:"Saved."})})]})]})]})})]})}export{W as default};
